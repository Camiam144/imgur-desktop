# This should change my desktop background to today's top wallpaper post from imgur.# Hopefully I'll also learn some coding stuff.import urllib.requestimport jsonimport randomimport subprocess'''wallpapers = 'http://www.reddit.com/r/wallpapers/top.json?t=week&limit=25'try:    response = urllib.request.urlopen(wallpapers)    content = response.read()    json_data = json.loads(content.decode('utf-8'))except urllib.request.URLError as e:    print('Everything sucks, error: ', e)with open('tempout.txt', 'w') as out_file:    out_file.write(json.dumps(json_data, indent=4))'''with open('tempout.txt', 'r') as in_file:        json_data = json.load(in_file)# Generates a random number to determine which wallpaper to usedef randomgen():    number = random.randrange(0, 25)    return number# define a function that navigates to the random wallpaper and check if it's from imgur.# input data must be a jsondef reddit_paper(data, number):    domain = data["data"]["children"][number]["data"]["domain"]    score = data["data"]["children"][number]["data"]["score"]    if domain == 'i.imgur.com' and score >= 300:        wallpaper_url = data["data"]["children"][number]["data"]["url"]        return wallpaper_url    else:        print('Domain wrong or score too low, trying again...')        return False# takes a URL of the form i.imgur.com/xxxxxx.jpg and pulls the image from imgur if it exists.def get_from_imgur(input_url):    try:        data = urllib.request.urlopen(input_url).read()        if len(data) > 0:            with open('wallpaper.jpg', 'wb') as out_file:                out_file.write(data)    except urllib.request.URLError as e:        print('Error, no image saved: ', e)'''SCRIPT = """/usr/bin/osascript<<ENDtell application "Finder"set desktop picture to POSIX file './wallpaper.jpg'end tellEND"""def change_background():    subprocess.Popen(SCRIPT, shell=True)'''def main():    url = reddit_paper(json_data)    print(url)    get_from_imgur(url)    #change_background()main()